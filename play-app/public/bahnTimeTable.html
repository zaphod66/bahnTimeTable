<!doctype html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <title>Bahn Time Table</title>
    <link rel="stylesheet" type="text/css" href="public/stylesheets/htmlgame.css">
<!--    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">-->
<!--    <link rel="stylesheet" type="text/css" href="public/stylesheets/main.css">-->
</head>

<body>
    <noscript>JavaScript required</noscript>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <main>
        <div class="flex">
            <input type="text" autofocus
                   v-bind:disabled="inputDisabled"
                   v-model.trim="inputValue"
                   v-on:input="handleInput">
            <div>
                <button type="submit"
                        class="btn btn-default submit"
                        v-on:click="searchStations">Suchen</button>
<!--                <div>-->
<!--                    <input type="checkbox" id="checkSearch" value="false" v-model="searchImmediately">-->
<!--                    <label for="checkSearch">Sofort Auflösen</label>-->
<!--                </div>-->
            </div>
        </div>
        <div id="counter" v-show="stations.length">
            <b>Stations ({{stations.length}}):</b>
            <b v-show="counterVisible">({{counter}}/{{stations.length}})</b>
        </div>
        <div>
            <button type="submit"
                    class="btn btn-primary submit"
                    v-on:click="checkData"
                    v-show="checkBtnVisible && stations.length">Auflösen</button>

            <ul>
                <li class="blue" v-for="el in stations"><span v-html="el.name">{{ el.name }}</span> &rarr; <span v-html="el.link">{{ el.link }}=</span></li>
            </ul>
        </div>

        <div v-show="buttonsVisible">
            <span v-show="stations.length" v-for="st in stations">
                <button class="btn submit" v-on:click="getTimeTable(st.eva)">{{st.name}}</button> &nbsp;
            </span>
        </div>

        <div v-show="tableVisible"  id="content" class="wrapper doc">
            <div class="panel-heading">Fahrplan</div>
            <table>
                <tr><th>Linie</th><th>Gl.</th><th>Ankunft</th><th></th><th>Abfahrt</th><th></th><th>Aus</th><th>Nach</th></tr>
                <tr v-for="e in timeTable">
                    <td>{{e.line}}</td>
                    <td>{{e.track}}</td>
                    <td>{{e.arrival | filterDate}}</td>
                    <td>{{ calcDiff(e.arrival, e.arDelay) }}</td>
                    <td>{{e.departure | filterDate}}</td>
                    <td>{{ calcDiff(e.departure, e.dpDelay) }}</td>
                    <td>{{e.depart}}</td>
                    <td>{{e.dest}}</td>
                </tr>
            </table>
        </div>
    </main>

    <script type="text/javascript" src="public/javascripts/vue.js"></script>
    <script type="text/javascript" src="public/javascripts/timetable.js"></script>

</body>

</html>
